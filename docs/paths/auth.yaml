paths:
  /api/auth/signup:
    post:
      tags:
        - Auth
      summary: Register a new user
      description: Creates a new user account with first name, last name, email, and password.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [firstName, lastName, email, password]
              properties:
                firstName:
                  type: string
                  example: John
                lastName:
                  type: string
                  example: Doe
                email:
                  type: string
                  format: email
                  example: john@example.com
                password:
                  type: string
                  format: password
                  example: SecurePass123!
      responses:
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: User registered successfully
                  data:
                    type: object
                    properties:
                      userId:
                        type: integer
                      needsRoleSelection:
                        type: boolean
        '400':
          description: Validation error or Email already in use
  /api/auth/login:
    post:
      tags:
        - Auth
      summary: User Login
      description: Authenticates a user and returns an access token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email:
                  type: string
                  format: email
                  example: john@example.com
                password:
                  type: string
                  format: password
                  example: SecurePass123!
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: Login successful
                  data:
                    type: object
                    properties:
                      userId:
                        type: integer
                      accessToken:
                        type: string
                      needsRoleSelection:
                        type: boolean
        '401':
          description: Invalid credentials
  /api/auth/select-role:
    post:
      tags:
        - Auth
      summary: Select/Assign User Role
      description: Assigns a role (e.g., Owner, Influencer) to a registered user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [userId, roleId]
              properties:
                userId:
                  type: integer
                  example: 1
                roleId:
                  type: integer
                  example: 2
      responses:
        '201':
          description: Role assigned successfully
        '400':
          description: User already has this role or invalid input
        '404':
          description: User or Role not found
  /api/auth/refresh-token:
    post:
      tags:
        - Auth
      summary: Refresh Access Token
      description: Generates a new access token using a valid refresh token from cookies.
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      accessToken:
                        type: string
        '401':
          description: Invalid or expired refresh token
  /api/auth/google:
    get:
      tags:
        - Auth
      summary: Initiate Google OAuth
      description: Redirects the user to Google login page.
      responses:
        '302':
          description: Redirects to Google
  /api/auth/google/callback:
    get:
      tags:
        - Auth
      summary: Google OAuth Callback
      description: Handles the callback from Google after successful authentication.
      parameters:
        - name: code
          in: query
          description: Authorization code from Google
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Authentication successful
        '401':
          description: Authentication failed
  /api/auth/logout:
    post:
      tags:
        - Auth
      summary: Logout
      description: Logs out the current user session.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Logged out successfully
        '401':
          description: Unauthorized
  /api/auth/logout-all:
    post:
      tags:
        - Auth
      summary: Logout All Devices
      description: Logs out the user from all active sessions.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Logged out from all devices
  /api/auth/sessions:
    get:
      tags:
        - Auth
      summary: Get Active Sessions
      description: Retrieves all active sessions for the current user.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of active sessions
  /api/auth/sessions/{sessionId}:
    delete:
      tags:
        - Auth
      summary: Revoke Session
      description: Revokes a specific session by ID.
      security:
        - bearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Session revoked
        '404':
          description: Session not found
  /api/auth/profile:
    get:
      tags:
        - Auth
      summary: Get User Profile
      description: Retrieves the complete user profile with role-specific data and completion percentage.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: Profile retrieved successfully
                  data:
                    type: object
                    properties:
                      user:
                        type: object
                        properties:
                          id:
                            type: integer
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          roles:
                            type: array
                            items:
                              type: string
                          createdAt:
                            type: string
                            format: date-time
                      profile:
                        type: object
                        description: Role-specific profile (OwnerProfile or InfluencerProfile)
                      completionPercentage:
                        type: integer
                        example: 75
        '401':
          description: Unauthorized
        '404':
          description: User not found
  /api/auth/profile/influencer:
    patch:
      tags:
        - Auth
      summary: Update Influencer Profile
      description: Update fields on the influencer profile (partial update). Accepts JSON body with any subset of allowed fields.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bio:
                  type: string
                image:
                  type: string
                location:
                  type: string
                socialMediaLinks:
                  type: object
                primaryPlatform:
                  type: string
                followersCount:
                  type: integer
                engagementRate:
                  type: number
                categories:
                  type: array
                  items:
                    type: string
                contentTypes:
                  type: array
                  items:
                    type: string
                collaborationTypes:
                  type: array
                  items:
                    type: string
                audienceAgeRange:
                  type: string
                audienceGender:
                  type: string
                audienceLocation:
                  type: string
                interests:
                  type: array
                  items:
                    type: string
                isOnboarded:
                  type: boolean
      responses:
        '200':
          description: Influencer profile updated
        '401':
          description: Unauthorized

  /api/auth/profile/owner:
    patch:
      tags:
        - Auth
      summary: Update Owner Profile
      description: Update fields on the owner profile (partial update). Accepts JSON body with any subset of allowed fields.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                businessName:
                  type: string
                businessType:
                  type: string
                industry:
                  type: string
                location:
                  type: string
                description:
                  type: string
                image:
                  type: string
                website:
                  type: string
                phoneNumber:
                  type: string
                platformsUsed:
                  type: array
                  items:
                    type: string
                primaryMarketingGoal:
                  type: string
                targetAudience:
                  type: object
                isOnboarded:
                  type: boolean
      responses:
        '200':
          description: Owner profile updated
        '401':
          description: Unauthorized
